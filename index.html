<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Code or Scam?</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: #0f0f0f;
      color: #0f0;
      padding: 15px;
      margin: 0;
      line-height: 1.5;
    }
    .container { max-width: 600px; margin: 0 auto; }
    h1 { text-align: center; font-size: 2rem; margin-bottom: 10px; }
    .input-box {
      width: 100%;
      background: #1a1a1a;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 10px;
      margin: 10px 0;
      font-family: monospace;
      height: 100px;
    }
    .btn-group, .action-buttons {
      text-align: center;
      margin: 15px 0;
    }
    button {
      background: #0f0;
      color: #000;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
    }
    .result-box {
      background: #1a1a1a;
      padding: 15px;
      margin: 15px 0;
      border-left: 4px solid #ff6b00;
      white-space: pre-wrap;
      font-size: 14px;
    }
    .tip-box {
      background: #1a1a1a;
      padding: 15px;
      margin-top: 25px;
      border-radius: 8px;
      text-align: center;
    }
    .sui-address-box {
      background: #000;
      padding: 10px;
      font-size: 12px;
      word-break: break-all;
      margin: 10px 0;
      border: 1px dashed #0f0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>CODE OR SCAM?</h1>
    <p>Paste code to detect language, validity, and AI risk.</p>
    
    <textarea class="input-box" id="userCode" placeholder="Paste any code here..."></textarea>
    <div class="btn-group">
      <button onclick="analyzeCode()">üîç Analyze Code</button>
    </div>

    <div class="result-box" id="resultBox">Awaiting code...</div>

    <!-- Tip Jar -->
    <div class="tip-box">
      <p>‚òï Built on Android! Tip in SUI:</p>
      <p style="font-size:12px; margin:8px 0;"><strong>Min. tip: 0.8 SUI</strong></p>
      <p style="font-size:12px;">1. Open your SUI wallet<br>2. Send to this address:</p>
      <div class="sui-address-box" id="suiAddress">
        0x9a9aa7ed44a61edf8361d1d24c77dc4e5d0140e2fa02f01c2ae1efa090d855ac
      </div>
      <button onclick="copyAddress()">üìã Copy Address</button>
    </div>

    <!-- Premium -->
    <div class="tip-box">
      <p>Need deeper analysis? Get premium support:</p>
      <a href="https://x.com/fynly_josh" target="_blank">
        <button>DM Me on X ($20/mo)</button>
      </a>
    </div>
  </div>

  <script>
    const SUI_ADDRESS = "0x9a9aa7ed44a61edf8361d1d24c77dc4e5d0140e2fa02f01c2ae1efa090d855ac";

    function detectLanguage(code) {
      const lower = code.toLowerCase();
      if (/import\s+\w+|def\s+\w+|print\(|f"/.test(code)) return "Python";
      if (/function\s+\w+|console\.log|=>/.test(code)) return "JavaScript";
      if (/fn\s+\w+|let\s+\w+:|println!/.test(code)) return "Rust";
      if (/#include|<iostream>|int main/.test(code)) return "C++";
      if (/public\s+class|System\.out\.print/.test(code)) return "Java";
      if (/contract\s+\w+|pragma solidity|function\s+\w+\(/.test(code)) return "Solidity";
      return "Unknown";
    }

    function validatePython(code) {
      let issues = [];
      if (code.includes('print("') && !/f"/.test(code) && /{.*}/.test(code)) {
        issues.push("‚ùå Missing 'f' prefix for f-string");
      }
      if (code.includes('input(') && !code.includes('name = input')) {
        // too vague, skip
      }
      return issues.length ? issues.join("\n") : "‚úÖ Syntax looks valid";
    }

    function validateJavaScript(code) {
      let issues = [];
      if (code.includes("console.log(") && code.split('\n').some(line => line.trim().endsWith("console.log("))) {
        issues.push("‚ùå Missing closing parenthesis");
      }
      return issues.length ? issues.join("\n") : "‚úÖ Syntax looks valid";
    }

    function detectAIScams(code) {
      const lower = code.toLowerCase();
      const scamPatterns = [
        /quantum.*(mine|token)/,
        /metaverse.*token/,
        /web3\.metaverse/i,
        /fetchai|blockchain_ai/,
        /superai|hyperchain|neuralcoin/i,
        /new\s+\w*crypto\w*\.token/i
      ];
      if (scamPatterns.some(p => p.test(lower))) return "‚ö†Ô∏è High AI scam risk";
      if (code.split('\n').length === 1 && !/;/g.test(code) && !code.includes('print')) {
        return "‚ùì Suspiciously short‚Äîlikely incomplete";
      }
      return "‚úÖ Low AI risk";
    }

    function analyzeCode() {
      const code = document.getElementById('userCode').value.trim();
      const resultEl = document.getElementById('resultBox');
      
      if (!code) {
        resultEl.innerHTML = "‚ö†Ô∏è Paste some code first!";
        return;
      }

      const lang = detectLanguage(code);
      let validity = "‚ùì Can't validate";
      let aiRisk = detectAIScams(code);

      if (lang === "Python") {
        validity = validatePython(code);
      } else if (lang === "JavaScript") {
        validity = validateJavaScript(code);
      }

      resultEl.innerHTML = 
        `Language: ${lang}\n` +
        `Validity: ${validity}\n` +
        `AI Risk: ${aiRisk}`;
    }

    function copyAddress() {
      navigator.clipboard?.writeText(SUI_ADDRESS).then(() => {
        alert("‚úÖ Copied! Send min. 0.8 SUI.");
      }).catch(() => {
        const ta = document.createElement("textarea");
        ta.value = SUI_ADDRESS;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        alert("‚úÖ Copied! Send min. 0.8 SUI.");
      });
    }
  </script>
</body>
</html>