<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Code or Scam?</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: #0f0f0f;
      color: #0f0;
      padding: 15px;
      margin: 0;
      line-height: 1.5;
    }
    .container { max-width: 600px; margin: 0 auto; }
    h1 { text-align: center; font-size: 2rem; margin-bottom: 10px; }
    .input-box {
      width: 100%;
      background: #1a1a1a;
      color: #0f0;
      border: 1px solid #0f0;
      padding: 10px;
      margin: 10px 0;
      font-family: monospace;
      height: 100px;
    }
    .btn-group {
      text-align: center;
      margin: 15px 0;
    }
    button {
      background: #0f0;
      color: #000;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
    }
    .result-box {
      background: #1a1a1a;
      padding: 15px;
      margin: 15px 0;
      border-left: 4px solid #ff6b00;
      white-space: pre-wrap;
      font-size: 14px;
    }
    .tip-box {
      background: #1a1a1a;
      padding: 15px;
      margin-top: 25px;
      border-radius: 8px;
      text-align: center;
    }
    .sui-address-box {
      background: #000;
      padding: 10px;
      font-size: 12px;
      word-break: break-all;
      margin: 10px 0;
      border: 1px dashed #0f0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>CODE OR SCAM?</h1>
    <p>Paste code to detect language, validity, and AI risk.</p>
    
    <textarea class="input-box" id="userCode" placeholder="Paste any code here..."></textarea>
    <div class="btn-group">
      <button onclick="analyzeCode()">üîç Analyze Code</button>
    </div>

    <div class="result-box" id="resultBox">Awaiting code...</div>

    <!-- Tip Jar -->
    <div class="tip-box">
      <p>‚òï Built on Android! Tip in SUI:</p>
      <p style="font-size:12px; margin:8px 0;"><strong>Min. tip: 0.8 SUI</strong></p>
      <p style="font-size:12px;">1. Open your SUI wallet<br>2. Send to this address:</p>
      <div class="sui-address-box" id="suiAddress">
        0x9a9aa7ed44a61edf8361d1d24c77dc4e5d0140e2fa02f01c2ae1efa090d855ac
      </div>
      <button onclick="copyAddress()">üìã Copy Address</button>
    </div>

    <!-- Premium -->
    <div class="tip-box">
      <p>Need deeper analysis? Get premium support:</p>
      <a href="https://x.com/fynly_josh" target="_blank">
        <button>DM Me on X ($20/mo)</button>
      </a>
    </div>
  </div>

  <script>
    const SUI_ADDRESS = "0x9a9aa7ed44a61edf8361d1d24c77dc4e5d0140e2fa02f01c2ae1efa090d855ac";

    function detectLanguage(code) {
  const c = code;
  // Check most specific first
  if (/contract\s+\w+|pragma solidity/.test(c)) return "Solidity";
  if (/package main|import "fmt"|func main\s*\(\)/.test(c)) return "Go";
  if (/fn\s+\w+|let\s+\w+:|println!|\bmut\b/.test(c)) return "Rust";
  if (/using System;|class \w+.*\{[^}]*static void Main/.test(c)) return "C#";
  if (/#include.*<stdio\.h>|#include\s+<stdio\.h>|printf\s*\(|scanf\s*\(|int main\s*\(/.test(c)) return "C";
  if (/#include.*<iostream>|std::cout|int main\s*\(/.test(c)) return "C++";
  if (/public\s+class\s+\w+|System\.out\.println|String\[\]/.test(c)) return "Java";
  if (/import\s+\w+|def\s+\w+|print\(|f"/.test(c)) return "Python";
  if (/function\s+\w+|console\.log|=>|\bconst\b/.test(c)) return "JavaScript";
  return "Unknown";
}

// --- Validators ---
    function validatePython(c) {
      if (/{.*}/.test(c) && !/f"/.test(c) && c.includes('print(')) return "‚ùå Missing 'f' prefix";
      return "‚úÖ Syntax looks valid";
    }
    function validateJavaScript(c) {
      if (c.includes("console.log(") && !c.includes(");") && c.split('\n').some(l => l.trim().endsWith("console.log("))) 
        return "‚ùå Unclosed console.log";
      return "‚úÖ Syntax looks valid";
    }
    function validateJava(c) {
      if (!/public\s+class/.test(c)) return "‚ùå Missing 'public class'";
      if (!/public\s+static\s+void\s+main/.test(c)) return "‚ùå Missing main method";
      return "‚úÖ Syntax looks valid";
    }
    function validateCpp(c) {
      if (!/#include/.test(c)) return "‚ùå Missing #include";
      if (!/int main\s*\(/.test(c)) return "‚ùå Missing main()";
      return "‚úÖ Syntax looks valid";
    }
    function validateRust(c) {
      if (!/fn main\s*\(/.test(c)) return "‚ùå Missing main function";
      return "‚úÖ Syntax looks valid";
    }
    function validateSolidity(c) {
      if (!/pragma solidity/.test(c)) return "‚ùå Missing pragma";
      if (!/contract\s+\w+/.test(c)) return "‚ùå Missing contract";
      return "‚úÖ Syntax looks valid";
    }
    function validateC(c) {
      if (!/#include.*stdio\.h/.test(c) && !/#include\s+<stdio\.h>/.test(c)) return "‚ùå Missing #include <stdio.h>";
      if (!/int main\s*\(/.test(c)) return "‚ùå Missing main()";
      if (!/printf/.test(c)) return "‚ö†Ô∏è No output (unusual for demo)";
      return "‚úÖ Syntax looks valid";
    }
    function validateGo(c) {
      if (!/package main/.test(c)) return "‚ùå Missing 'package main'";
      if (!/func main\s*\(\)/.test(c)) return "‚ùå Missing main function";
      if (!/fmt\.Println/.test(c) && !/fmt\.Printf/.test(c)) return "‚ö†Ô∏è No output statement";
      return "‚úÖ Syntax looks valid";
    }
    function validateCSharp(c) {
      if (!/class\s+\w+/.test(c)) return "‚ùå Missing class";
      if (!/static void Main/.test(c)) return "‚ùå Missing Main method";
      if (!/Console\.WriteLine/.test(c)) return "‚ö†Ô∏è No output statement";
      return "‚úÖ Syntax looks valid";
    }

    function detectAIScams(c) {
      const lower = c.toLowerCase();
      const scamPatterns = [
        /quantum.*(mine|token|chain)/,
        /metaverse.*token/,
        /web3\.metaverse/i,
        /fetchai|blockchain_ai|ai\.mine/,
        /superai|hyperchain|neuralcoin/i,
        /new\s+\w*crypto\w*\.token/i
      ];
      if (scamPatterns.some(p => p.test(lower))) return "‚ö†Ô∏è High AI scam risk";
      if (c.trim().split('\n').length === 1 && !/print|log|cout|println|printf|WriteLine/.test(c)) {
        return "‚ùì Suspiciously short‚Äîlikely incomplete";
      }
      return "‚úÖ Low AI risk";
    }

    function analyzeCode() {
      const code = document.getElementById('userCode').value.trim();
      const resultEl = document.getElementById('resultBox');
      if (!code) {
        resultEl.innerHTML = "‚ö†Ô∏è Paste some code first!";
        return;
      }

      const lang = detectLanguage(code);
      let validity = "‚ùì Can't validate";
      const aiRisk = detectAIScams(code);

      if (lang === "Python") validity = validatePython(code);
      else if (lang === "JavaScript") validity = validateJavaScript(code);
      else if (lang === "Java") validity = validateJava(code);
      else if (lang === "C++") validity = validateCpp(code);
      else if (lang === "Rust") validity = validateRust(code);
      else if (lang === "Solidity") validity = validateSolidity(code);
      else if (lang === "C") validity = validateC(code);
      else if (lang === "Go") validity = validateGo(code);
      else if (lang === "C#") validity = validateCSharp(code);

      resultEl.innerHTML = 
        `Language: ${lang}\n` +
        `Validity: ${validity}\n` +
        `AI Risk: ${aiRisk}`;
    }

    function copyAddress() {
      if (navigator.clipboard) {
        navigator.clipboard.writeText(SUI_ADDRESS).then(() => {
          alert("‚úÖ Copied! Send min. 0.8 SUI.");
        }).catch(() => fallbackCopy());
      } else {
        fallbackCopy();
      }
    }
    function fallbackCopy() {
      const ta = document.createElement("textarea");
      ta.value = SUI_ADDRESS;
      document.body.appendChild(ta);
      ta.select();
      document.execCommand("copy");
      document.body.removeChild(ta);
      alert("‚úÖ Copied! Send min. 0.8 SUI.");
    }
  </script>
</body>
</html>